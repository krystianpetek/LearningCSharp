@page "/todo"
@using Models;

<h3>Todo (@todos.Count)</h3>

<ul>
    @foreach (var todo in todos)
    {
        <li>
            <input class="mx-1" type="checkbox" @bind=todo.IsDone />
            <input title="Added: @todo.Date.ToLocalTime()" @bind=todo.Title class="border-0" />
        </li>
    }
</ul>

<input placeholder="Something todo" @bind="newTodo" />
<button class="btn btn-primary" @onclick="AddTodo">Add todo</button>

@code {
    private List<TodoItem> todos = new() { new TodoItem() { IsDone = true, Title = "BwJb" } };
    private string? newTodo;

    private void AddTodo()
    {
        if (!string.IsNullOrWhiteSpace(newTodo))
        {
            todos.Add(
            new TodoItem()
                {
                    Title = newTodo,
                    IsDone = false
                });
            newTodo = string.Empty;
        }        
    }
}
