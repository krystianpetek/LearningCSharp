@using DataModel.Models;

<TableTemplate 
    RowType="Person" RowData="People"
    SortDirection="@(p => p.Surname)" 
    Highlight="@(p => p.Location?.City)" >
    <Header>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Departament</th>
                <th>Location</th>
            </tr>
    </Header>
    <RowTemplate Context="person">
        <td>@person?.PersonId</td>
        <td>@person?.Surname, @person?.Firstname</td>
        <td>@person?.Department?.Name</td>
        <td>@person?.Location?.City, @person?.Location?.State</td>
    </RowTemplate>

</TableTemplate>

@code {
    [Inject]
    public DataContext? DataContext { get; set; }

    public IEnumerable<Person>? People => DataContext?.People
    .Include(people => people.Department)
    .Include(people => people.Location);
}
